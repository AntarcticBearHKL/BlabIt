(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3829:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b});var a=l(5155),s=l(2115),r=l(7309),i=l(5280),n=l(6341),o=l(5695);let c=()=>{let[e,t]=(0,s.useState)(!1),[l,a]=(0,s.useState)(null),r=(0,s.useRef)(null),i=(0,s.useRef)([]);return{isRecording:e,audioBlob:l,startRecording:async()=>{try{t(!0);let e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100,channelCount:1}}),l=["audio/webm","audio/mp4","audio/aac","audio/ogg"].find(e=>MediaRecorder.isTypeSupported(e))||"audio/webm";r.current=new MediaRecorder(e,{mimeType:l,audioBitsPerSecond:128e3}),r.current.ondataavailable=e=>{e.data.size>0&&i.current.push(e.data)},r.current.onstop=()=>{try{if(i.current.length>0){let e=new Blob(i.current,{type:l});a(e)}else console.warn("No audio data chunks were collected during recording");i.current=[]}catch(e){console.error("Error creating audio blob:",e)}},r.current.start(1e3)}catch(e){console.error("Error accessing microphone:",e),t(!1),e instanceof DOMException&&("NotAllowedError"===e.name?alert("请允许访问麦克风权限"):"NotFoundError"===e.name?alert("未找到录音设备"):alert("录音初始化失败，请检查设备权限"))}},stopRecording:()=>{if(r.current&&e)try{t(!1),r.current.stop(),r.current.stream.getTracks().forEach(e=>{e.stop(),e.enabled=!1})}catch(e){console.error("Error stopping recording:",e),t(!1)}}}};var d=l(9348),u=l(4540);let x=()=>{let e=(0,o.useRouter)(),{isRecording:t,audioBlob:l,startRecording:r,stopRecording:i}=c(),[n,x]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),m=(0,u.wA)(),p=async()=>{t?(f(!0),await i(),setTimeout(async()=>{if(!l)return void f(!1);await b(),f(!1)},100)):r()},b=async()=>{if(!l)return void console.warn("No audio blob available for upload");try{x(!0);let t=new FormData;t.append("audio",l,"recording.webm");let a=await fetch("https://blabit.xyz:5000/transcribe",{method:"POST",body:t});if(!a.ok)throw Error("Upload failed");let s=await a.json();console.log("Upload successful:",s),m((0,d.g)(s.text)),e.push("/context")}catch(e){console.error("Error uploading audio:",e)}finally{x(!1)}};return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[rgb(183,198,175)] p-6 relative",children:(0,a.jsxs)("div",{className:"w-full max-w-[800px] mx-auto relative h-full min-h-screen",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-70 z-0 w-4/5",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("img",{src:"/images/1.jpg",alt:"Context Whisperer Logo",className:"rounded-lg shadow-md object-cover w-full h-auto"})})}),(0,a.jsxs)("div",{className:"absolute z-10 flex flex-col h-full w-full px-8",children:[(0,a.jsx)("div",{className:"h-[13%] flex items-end pt-8 pl-8",children:(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-600",children:"The Context"})}),(0,a.jsx)("div",{className:"h-[5%] flex justify-center items-center",children:(0,a.jsx)("h1",{className:"text-6xl font-bold text-gray-800",children:"Whisperer"})}),(0,a.jsx)("div",{className:"h-[40%]"}),(0,a.jsxs)("div",{className:"h-[40%] w-full flex flex-col justify-between relative",children:[(0,a.jsx)("span",{className:"absolute inset-0 bg-white/25 backdrop-blur-xl backdrop-filter backdrop-saturate-150 rounded-lg z-0"}),(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 z-10 relative",children:[(0,a.jsx)("div",{className:"flex items-start w-full h-[50%]",children:(0,a.jsx)("p",{className:"text-2xl text-gray-800 w-full text-justify",children:"Like a gentle breeze carrying the first words of spring, our context generator crafts the perfect opening lines for your conversations. It weaves together phrases and translations, helping you step confidently into any dialogue, as naturally as dawn breaks over the horizon."})}),(0,a.jsx)("div",{className:"h-[24%]"}),(0,a.jsxs)("div",{className:"flex justify-center w-full h-[15%]",children:[(0,a.jsx)("button",{onClick:p,disabled:h,className:"px-6 py-3 text-2xl rounded-lg font-semibold select-none w-full max-w-md flex items-center justify-center ".concat("bg-black hover:bg-gray-800"," text-[rgb(223,247,3)] transition ").concat(h?"opacity-50 cursor-not-allowed":""),children:h?"PROCESSING...":t?"STOP RECORDING":"SET THE CONTEXT FOR ME"}),n&&(0,a.jsx)("div",{className:"text-gray-600 mt-2",children:"LOADING..."})]})]})]})]})]})})},h=()=>{let e=(0,o.useRouter)(),{isRecording:t,audioBlob:l,startRecording:r,stopRecording:i}=c(),[n,x]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),m=(0,u.wA)(),p=async()=>{t?(f(!0),await i(),setTimeout(async()=>{if(!l)return void f(!1);await b(),f(!1)},100)):r()},b=async()=>{if(!l)return void console.warn("No audio blob available for upload");try{x(!0);let t=new FormData;t.append("audio",l,"recording.webm");let a=await fetch("https://blabit.xyz:5000/transcribe",{method:"POST",body:t});if(!a.ok)throw Error("Upload failed");let s=await a.json();console.log("Upload successful:",s),m((0,d.g)(s.text)),e.push("/enchanter")}catch(e){console.error("Error uploading audio:",e)}finally{x(!1)}};return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[rgb(183,198,175)] p-6 relative",children:(0,a.jsxs)("div",{className:"w-full max-w-[800px] mx-auto relative h-full min-h-screen",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-70 z-0 w-4/5",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("img",{src:"/images/2.jpg",alt:"Context Whisperer Logo",className:"rounded-lg shadow-md object-cover w-full h-auto"})})}),(0,a.jsxs)("div",{className:"absolute z-10 flex flex-col h-full w-full px-8",children:[(0,a.jsx)("div",{className:"h-[13%] flex items-end pt-8 pl-8",children:(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-600",children:"English Enhancement"})}),(0,a.jsx)("div",{className:"h-[5%] flex justify-center items-center",children:(0,a.jsx)("h1",{className:"text-6xl font-bold text-gray-800",children:"Enchanter"})}),(0,a.jsx)("div",{className:"h-[40%]"}),(0,a.jsxs)("div",{className:"h-[40%] w-full flex flex-col justify-between relative",children:[(0,a.jsx)("span",{className:"absolute inset-0 bg-white/25 backdrop-blur-xl backdrop-filter backdrop-saturate-150 rounded-lg z-0"}),(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 z-10 relative",children:[(0,a.jsx)("div",{className:"flex items-start w-full h-[50%]",children:(0,a.jsx)("p",{className:"text-2xl text-gray-800 w-full text-justify",children:"Your words are precious gems that deserve to shine their brightest. Let us polish them to perfection, revealing their true native brilliance. Grammar, vocabulary, and structure blend together in harmony, as we craft expressions that flow as smoothly as a mountain stream."})}),(0,a.jsx)("div",{className:"h-[24%]"}),(0,a.jsxs)("div",{className:"flex justify-center w-full h-[15%]",children:[(0,a.jsx)("button",{onClick:p,disabled:h,className:"px-6 py-3 text-2xl rounded-lg font-semibold select-none w-full max-w-md flex items-center justify-center ".concat("bg-black hover:bg-gray-800"," text-[rgb(223,247,3)] transition ").concat(h?"opacity-50 cursor-not-allowed":""),children:h?"PROCESSING...":t?"STOP RECORDING":"ENGLISH GO FOR IT!"}),n&&(0,a.jsx)("div",{className:"text-gray-600 mt-2",children:"LOADING..."})]})]})]})]})]})})},f=()=>{let e=(0,o.useRouter)(),{isRecording:t,audioBlob:l,startRecording:r,stopRecording:i}=c(),[n,x]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),m=(0,u.wA)(),p=async()=>{t?(f(!0),await i(),setTimeout(async()=>{if(!l)return void f(!1);await b(),f(!1)},100)):r()},b=async()=>{if(!l)return void console.warn("No audio blob available for upload");try{x(!0);let t=new FormData;t.append("audio",l,"recording.webm");let a=await fetch("https://blabit.xyz:5000/transcribe",{method:"POST",body:t});if(!a.ok)throw Error("Upload failed");let s=await a.json();console.log("Upload successful:",s),m((0,d.g)(s.text)),e.push("/mirror")}catch(e){console.error("Error uploading audio:",e)}finally{x(!1)}};return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[rgb(183,198,175)] p-6 relative",children:(0,a.jsxs)("div",{className:"w-full max-w-[800px] mx-auto relative h-full min-h-screen",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-70 z-0 w-4/5",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("img",{src:"/images/3.jpg",alt:"Context Whisperer Logo",className:"rounded-lg shadow-md object-cover w-full h-auto"})})}),(0,a.jsxs)("div",{className:"absolute z-10 flex flex-col h-full w-full px-8",children:[(0,a.jsx)("div",{className:"h-[13%] flex items-end pt-8 pl-8",children:(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-600",children:"Mother Tongue"})}),(0,a.jsx)("div",{className:"h-[5%] flex justify-center items-center",children:(0,a.jsx)("h1",{className:"text-6xl font-bold text-gray-800",children:"Mirror"})}),(0,a.jsx)("div",{className:"h-[40%]"}),(0,a.jsxs)("div",{className:"h-[40%] w-full flex flex-col justify-between relative",children:[(0,a.jsx)("span",{className:"absolute inset-0 bg-white/25 backdrop-blur-xl backdrop-filter backdrop-saturate-150 rounded-lg z-0"}),(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 z-10 relative",children:[(0,a.jsx)("div",{className:"flex items-start w-full h-[50%]",children:(0,a.jsx)("p",{className:"text-2xl text-gray-800 w-full text-justify",children:"Transform your native thoughts into elegant expressions, like watching a butterfly emerge from its chrysalis. Each translation comes adorned with crystalline clarity, while key phrases sparkle with detailed explanations - illuminating your like stars in the night sky."})}),(0,a.jsx)("div",{className:"h-[24%]"}),(0,a.jsxs)("div",{className:"flex justify-center w-full h-[15%]",children:[(0,a.jsx)("button",{onClick:p,disabled:h,className:"px-6 py-3 text-xl rounded-lg font-semibold select-none w-full max-w-md flex items-center justify-center ".concat("bg-black hover:bg-gray-800"," text-[rgb(223,247,3)] transition ").concat(h?"opacity-50 cursor-not-allowed":""),children:h?"PROCESSING...":t?"STOP RECORDING":"LET YOUR HEART SPERAK"}),n&&(0,a.jsx)("div",{className:"text-gray-600 mt-2",children:"LOADING..."})]})]})]})]})]})})},m={WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},p=()=>{let[e,t]=(0,s.useState)(0),[l,o]=(0,s.useState)(!1),c=[{id:0,content:(0,a.jsx)(x,{})},{id:1,content:(0,a.jsx)(h,{})},{id:2,content:(0,a.jsx)(f,{})}],d=l=>{"LEFT"===l?t(e<c.length-1?e+1:0):"RIGHT"===l&&t(e>0?e-1:c.length-1)},u=(0,r.uh)({onSwipedLeft:()=>d("LEFT"),onSwipedRight:()=>d("RIGHT")}),p=(e,t)=>{d(e)};return(0,a.jsxs)("div",{...u,style:{display:"flex",width:"100vw",height:"100dvh",overflow:"hidden",position:"relative",...m},children:[(0,a.jsx)("div",{className:"fixed left-0 top-0 w-1/4 h-full z-[5]",onClick:e=>p("RIGHT",e),style:{opacity:0}}),(0,a.jsx)("div",{className:"fixed right-0 top-0 w-1/4 h-full z-[5]",onClick:e=>p("LEFT",e),style:{opacity:0}}),(0,a.jsxs)("div",{className:"fixed top-0 left-0 w-full flex justify-between items-center px-5 py-4 z-10",children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.A,{menu:{items:[{key:"en",label:"English"},{key:"hi",label:"Hindi (dev)",disabled:!0},{key:"zh",label:"中文 (dev)",disabled:!0},{key:"ja",label:"日本語 (dev)",disabled:!0},{key:"ko",label:"한국어 (dev)",disabled:!0},{key:"vi",label:"Tiếng Việt (dev)",disabled:!0}]},placement:"bottomLeft",children:(0,a.jsx)("div",{className:"px-4 py-2 bg-black/50 text-white rounded-full cursor-pointer",children:"Language \uD83C\uDF10"})})}),(0,a.jsx)("div",{onClick:()=>o(!0),className:"px-4 py-2 bg-black/50 text-white rounded-full cursor-pointer",children:(0,a.jsx)("span",{children:"⚙️"})})]}),(0,a.jsx)("div",{style:{display:"flex",transform:"translateX(-".concat(100*e,"vw)"),transition:"transform 0.5s ease",width:"".concat(100*c.length,"vw")},children:c.map(e=>(0,a.jsx)("div",{className:"min-h-screen w-screen",children:e.content},e.id))}),(0,a.jsxs)(n.A,{placement:"bottom",open:l,onClose:()=>o(!1),height:300,closeIcon:!1,maskClosable:!0,children:[(0,a.jsx)("h3",{children:"Login"}),(0,a.jsx)("p",{children:"Your may input your openai api later"})]})]})};function b(){return(0,a.jsx)(p,{})}},8830:(e,t,l)=>{Promise.resolve().then(l.bind(l,3829))},9348:(e,t,l)=>{"use strict";l.d(t,{g:()=>s,l:()=>a});let a=(0,l(1990).Z0)({name:"speech",initialState:{speechText:"None"},reducers:{setSpeechText:(e,t)=>{e.speechText=t.payload}}}),{setSpeechText:s}=a.actions}},e=>{var t=t=>e(e.s=t);e.O(0,[540,990,822,441,684,358],()=>t(8830)),_N_E=e.O()}]);