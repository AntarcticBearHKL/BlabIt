{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/BlabIt/front_end/next_app/components/context_analysis.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useSelector } from 'react-redux'\r\nimport { RootState } from '../store'; // 导入 Redux store 的类型\r\nimport { useEffect, useState } from 'react';\r\n\r\n\r\nconst ContextAnalysis = () => {\r\n  const someData = useSelector((state: RootState) => state.speech.speechText); // 从 Redux store 中获取数据\r\n\r\n  const [responses, setResponses] = useState<[string, string][]>([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const sendDataToServer = async () => {\r\n      try {\r\n        const response = await fetch(`https://blabit.xyz:5000/context?message=${encodeURIComponent(someData)}`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        setResponses(JSON.parse(data.response));\r\n        \r\n        console.log('Server response:', responses);\r\n\r\n      } catch (error) {\r\n        console.error('Error sending data:', error);\r\n      }\r\n    };\r\n\r\n    if (someData) {\r\n      sendDataToServer();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"w-screen h-screen flex flex-col justify-center items-center bg-gray-100\">\r\n      <h1 className=\"text-2xl font-bold text-gray-800\">\r\n        {someData}\r\n      </h1>\r\n\r\n      {responses.map((response, index) => (\r\n        <div key={index} className=\"flex flex-col p-4 bg-white rounded-lg shadow mb-2 w-full max-w-2xl\">\r\n          <p>问题: {response[0]}</p>\r\n          <p>回答: {response[1]}</p>\r\n        </div>\r\n      ))}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContextAnalysis;"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;AAOA,MAAM,kBAAkB;IACtB,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAqB,MAAM,MAAM,CAAC,UAAU,GAAG,sBAAsB;IAEnG,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsB,EAAE;IAGjE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,mBAAmB;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,CAAC,wCAAwC,EAAE,mBAAmB,WAAW,EAAE;oBACtG,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;gBACF;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,aAAa,KAAK,KAAK,CAAC,KAAK,QAAQ;gBAErC,QAAQ,GAAG,CAAC,oBAAoB;YAElC,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uBAAuB;YACvC;QACF;QAEA,IAAI,UAAU;YACZ;QACF;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BACX;;;;;;YAGF,UAAU,GAAG,CAAC,CAAC,UAAU,sBACxB,8OAAC;oBAAgB,WAAU;;sCACzB,8OAAC;;gCAAE;gCAAK,QAAQ,CAAC,EAAE;;;;;;;sCACnB,8OAAC;;gCAAE;gCAAK,QAAQ,CAAC,EAAE;;;;;;;;mBAFX;;;;;;;;;;;AAQlB;uCAEe","debugId":null}}]
}